# qcd
# Quickly `cd` into some frequently accessed project directories

XDG_CONFIG_HOME=${XDG_CONFIG_HOME:-"${HOME}/.config"}
QCD_CONFIG_DIR=${QCD_CONFIG_DIR:-"${XDG_CONFIG_HOME}/qcd"}
QCD_DATABASE_FILE=${QCD_DATABASE_FILE:-"${QCD_CONFIG_DIR}/database"}


function print_usage () {
		cat 1>&2 <<__EOF__
Usage:
	qcd SHORTCUT
	qcd -acrh SHORTCUT [PATH]

	The first call changes to the directory specified by SHORTCUT.
	The second allows manipulation of the shortcut database.

	-a	Add a new shortcut pointing to PATH
	-c	Change an existing shortcut to PATH
	-r	Remove SHORTCUT
	-h	Display this help
__EOF__
}

function absolute_path () {
	(cd "$(dirname '$1')" &>/dev/null && printf "%s/%s" "$PWD" "${1##*/}")
}

function qcd () {
	if [[ $# < 1 ]]; then
		print_usage
		return
	fi

	local command=$1

	case $command in
		-a)
			local shortcut=$2
			local path=$3

			echo "${shortcut}	$(absolute_path ${path})" >> $QCD_DATABASE_FILE
			;;
		-c)
			;;
		-r)
			;;
		-h|--help)
			print_usage
			;;
		*)
			;;
	esac
}

 # vim:ft=sh:
